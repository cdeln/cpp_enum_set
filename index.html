<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>cpp_enum_set | enum_set</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">enum_set</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li>
              <a href="pages.html">Pages</a>
              <ol>
                <li><a href="about.html">About</a></li>
              </ol>
            </li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          cpp_enum_set
        </h1>
<p><a href="https://github.com/cdeln/cpp_enum_set/actions"><img class="m-image" src="badge.svg" alt="Image" /></a> <a href="https://codecov.io/gh/cdeln/cpp_enum_set"><img class="m-image" src="badge.svg" alt="Image" /></a> <a href="https://github.com/cdeln/cpp_enum_set/releases"><img class="m-image" src="cpp_enum_set" alt="Image" /></a> <a href="https://github.com/cdeln/cpp_enum_set/blob/master/LICENSE"><img class="m-image" src="cpp_enum_set" alt="Image" /></a></p><p>A library of type safe sets over fixed size collections of types or values, including methods for accessing, modifying, visiting and iterating over those.</p><section id="autotoc_md1"><h2><a href="#autotoc_md1">Rationale</a></h2><p>Enums are great, as long as you use them to represent individual flags or options. If you want to represent a set of options using an enumeration, one would typically let the values of the enumeration take on powers of two and then &quot;or&quot; them together</p><pre class="m-code"><span class="k">enum</span> <span class="k">class</span> <span class="nc">option</span>
<span class="p">{</span>
    <span class="n">A</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">B</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">),</span>
    <span class="n">C</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="k">operator</span><span class="o">|</span><span class="p">(</span><span class="n">option</span> <span class="n">lhs</span><span class="p">,</span> <span class="n">option</span> <span class="n">rhs</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">lhs</span><span class="p">)</span> <span class="o">|</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span>
<span class="p">}</span></pre><p>The problem with this is obvious: when using an integer representation for a set of options, we lose type information. Instead, one would like to do something like this</p><pre class="m-code"><span class="cp">#include</span> <span class="cpf">&lt;enum_set/enum_set.hpp&gt;</span><span class="cp"></span>

<span class="k">enum</span> <span class="k">class</span> <span class="nc">option</span>
<span class="p">{</span>
    <span class="n">A</span><span class="p">,</span>
    <span class="n">B</span><span class="p">,</span>
    <span class="n">C</span>
<span class="p">};</span>

<span class="k">using</span> <span class="n">option_set</span> <span class="o">=</span>
    <span class="n">enum_set</span><span class="o">::</span><span class="n">make_enum_set</span><span class="o">&lt;</span>
        <span class="n">option</span><span class="p">,</span>
        <span class="n">option</span><span class="o">::</span><span class="n">C</span>
    <span class="o">&gt;</span><span class="p">;</span>

<span class="n">option_set</span> <span class="k">operator</span><span class="o">|</span><span class="p">(</span><span class="n">option</span> <span class="n">lhs</span><span class="p">,</span> <span class="n">option</span> <span class="n">rhs</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">lhs</span><span class="p">,</span> <span class="n">rhs</span><span class="p">};</span>
<span class="p">}</span></pre><p>where a type alias <code>option_set</code> is introduced to represent a set of values from the <code>option</code> enumeration.</p><p>This library provides means of doing this for various types of enumerated collections.</p></section><section id="autotoc_md2"><h2><a href="#autotoc_md2">Requirements</a></h2><p><code>enum_set</code> is a zero dependency (except from standard library) header only library.</p><p>Requires at least C++14, and C++17 if you want to use it together with <a href="https://github.com/Neargye/magic_enum">magic enum</a>.</p></section><section id="autotoc_md3"><h2><a href="#autotoc_md3">Installation</a></h2><p>There are two ways of installing this library</p><ol><li>Poor mans installation: Just copy the <code>enum_set</code> folder to your installation path.</li><li>Using <a href="https://build2.org/">build2</a>:<ol><li>To install globally on your machine, clone this repo and run <code>b install</code> (with admin privileges ofc).</li><li>If you are using <code>build2</code> for building your code, then just delcare <code>enum_set</code> as a dependency in your <code>manifest</code> and import it in your <code>buildfile</code>.</li></ol></li><li>Using CMake: see <a href="https://github.com/cdeln/cpp_enum_set/blob/master/BUILDING.md">BUILDING</a> for detailed installation instructions.</li></ol></section><section id="autotoc_md4"><h2><a href="#autotoc_md4">Usage</a></h2><p>The library provides a <code>type_set</code> class for holding a set of types and <code>value_set</code> class for holding a set of values.</p><p>If you roll with strong enums (that is, struct with class tags), use the <code>type_set</code> class (defined in <a href="https://github.com/cdeln/cpp_enum_set/blob/master/enum_set/type_set.hpp"><code>&lt;enum_set/type_set.hpp&gt;</code></a>).</p><p>If you want to model a set over a fixed collection of values, use the <code>value_set</code> class (defined in <a href="https://github.com/cdeln/cpp_enum_set/blob/master/enum_set/value_set.hpp"><code>&lt;enum_set/value_set.hpp&gt;</code></a>). The <code>value_set</code> is a refinement of the <code>type_set</code> class that replaces type like semantics with value like. Thus, if <code>type_set</code> provides a template method that accepts a type, <code>value_set</code> provides the a method with the same name accepting a value (of the given type) instead. In addition to the capabilities provided by <code>type_set</code>, <code>value_set</code> also provides support for iteration (there is support for visitation which is more safe and also works for <code>type_set</code>).</p><p>The library provides type aliases <code>integer_set</code> (defined in <a href="https://github.com/cdeln/cpp_enum_set/blob/master/enum_set/integer_set.hpp"><code>&lt;enum_set/integer_set.hpp&gt;</code></a>) and <code>index_set</code> (defined in <a href="https://github.com/cdeln/cpp_enum_set/blob/master/enum_set/index_set.hpp"><code>&lt;enum_set&lt;index_set.hpp&gt;</code></a>) for a <code>value_set</code> of integers or indices (a.k.a. <code>std::size_t</code>) respectively. Meta functions <code>make_integer_set</code> and <code>make_index_set</code> for creating sets over contiguous ranges of integers or indices are also provided (mimicks the style used by STL&#x27;s <code>std::make_integer_sequence</code> and <code>std::make_index_sequence</code>).</p><p>Finally, if you use enums (<em>drumroll</em>...), you can use the <code>make_enum_set</code> meta function (defined in <a href="https://github.com/cdeln/cpp_enum_set/blob/master/enum_set/enum_set.hpp"><code>&lt;enum_set/enum_set.hpp&gt;</code></a>). This assumes that you do not set the enumeration values manually (e.g. as powers of two), Also, as seen in the rationale example in the beginning, note that you have to explicitly provide the last enumeration value (until C++ have better built in reflection capabilities for enums). If you can use C++17, are willing to sacrifice standardness and to introduce another dependency, integration with <a href="https://github.com/Neargye/magic_enum">magic enum</a> is provided and you can create a <code>value_set</code> conveniently using the <code>make_magic_enum_set</code> meta function (defined in <a href="https://github.com/cdeln/cpp_enum_set/blob/master/enum_set/magic/magic_enum_set.hpp"><code>&lt;enum_set/magic/magic_enum_set.hpp&gt;</code></a>) as follows</p><pre class="m-code"><span class="cp">#include</span> <span class="cpf">&lt;enum_set/magic/magic_enum_set.hpp&gt;</span><span class="cp"></span>

<span class="k">enum</span> <span class="k">class</span> <span class="nc">option</span>
<span class="p">{</span>
    <span class="n">A</span><span class="p">,</span>
    <span class="n">B</span><span class="p">,</span>
    <span class="n">C</span>
<span class="p">};</span>

<span class="k">using</span> <span class="n">option_set</span> <span class="o">=</span>
    <span class="n">enum_set</span><span class="o">::</span><span class="n">make_magic_enum_set</span><span class="o">&lt;</span>
        <span class="n">option</span>
    <span class="o">&gt;</span><span class="p">;</span></pre><p>See <a href="https://github.com/cdeln/cpp_enum_set/blob/master/example/basic_tutorial.cpp">this example</a> for a tutorial on available methods and operators.</p><p>See <a href="https://github.com/cdeln/cpp_enum_set/blob/master/example/visitation_example.cpp">this example</a> for an illustration of the visitor pattern with <code>type_set</code>.</p><p>Reference documentation can be found <a href="https://cdeln.github.io/cpp_enum_set">here</a>.</p></section><section id="autotoc_md5"><h2><a href="#autotoc_md5">Contributing</a></h2><p>Feel free to grab an issue from the <a href="https://github.com/cdeln/cpp_enum_set/issues">issue list</a>. Make a fork and submit a PR. We currently don&#x27;t have any dedicated forum for discussion, if you have any ideas on how to improve the library and there is no issue for it, feel free to submit an issue yourself and we can discuss the idea there.</p><p>See <a href="https://github.com/cdeln/cpp_enum_set/blob/master/HACKING.md">HACKING</a> for detailed instructions on setting up the developer environment.</p><p>See the <a href="https://github.com/cdeln/cpp_enum_set/blob/master/Dockerfile">Dockerfile</a> for a minimal reproducible environment. Running the instructions given by the other documents inside the built container should work. The Dockerfile should, but is not guaranteed to, reflect the steps used by the CI. To see the exact steps used by the CI, see the <a href="https://github.com/cdeln/cpp_enum_set/blob/master/.github/workflows/ci.yml">GitHub workflow config file</a>.</p></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>enum_set. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.17 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
